diff --git a/core/lib/Drupal/Component/Annotation/composer.json b/core/lib/Drupal/Component/Annotation/composer.json
index 51e7d25b00..c384473c08 100644
--- a/core/lib/Drupal/Component/Annotation/composer.json
+++ b/core/lib/Drupal/Component/Annotation/composer.json
@@ -7,9 +7,9 @@
   "require": {
     "php": ">=5.5.9",
     "doctrine/common": "^2.5",
-    "doctrine/annotations": "1.2.*",
+    "doctrine/annotations": "^1.2",
     "drupal/core-file-cache": "^8.2",
-    "drupal/core-plugin": "^8.2",
+    "drupal/core-plugin": "^8.5",
     "drupal/core-utility": "^8.2"
   },
   "autoload": {
diff --git a/core/lib/Drupal/Component/Bridge/composer.json b/core/lib/Drupal/Component/Bridge/composer.json
index 19c8a3b1d3..a8666aa88c 100644
--- a/core/lib/Drupal/Component/Bridge/composer.json
+++ b/core/lib/Drupal/Component/Bridge/composer.json
@@ -6,6 +6,7 @@
   "license": "GPL-2.0-or-later",
   "require": {
     "php": ">=5.5.9",
+    "symfony/dependency-injection": ">=3.0.0 <4.0.0",
     "zendframework/zend-feed": "^2.4"
   },
   "autoload": {
diff --git a/core/lib/Drupal/Component/Datetime/composer.json b/core/lib/Drupal/Component/Datetime/composer.json
index 6b7f89f00b..cb41803a8a 100644
--- a/core/lib/Drupal/Component/Datetime/composer.json
+++ b/core/lib/Drupal/Component/Datetime/composer.json
@@ -8,6 +8,9 @@
     "php": ">=5.5.9",
     "drupal/core-utility": "^8.2"
   },
+  "require-dev": {
+    "symfony/http-foundation": ">=3.0.0 <4.0.0"
+  },
   "autoload": {
     "psr-4": {
       "Drupal\\Component\\Datetime\\": ""
diff --git a/core/lib/Drupal/Component/DependencyInjection/composer.json b/core/lib/Drupal/Component/DependencyInjection/composer.json
index 846034affa..c890a34267 100644
--- a/core/lib/Drupal/Component/DependencyInjection/composer.json
+++ b/core/lib/Drupal/Component/DependencyInjection/composer.json
@@ -12,7 +12,10 @@
   },
   "require": {
     "php": ">=5.5.9",
-    "symfony/dependency-injection": ">=2.8 <4.0.0"
+    "symfony/dependency-injection": ">=3.3.0 <4.0.0"
+  },
+  "require-dev": {
+    "drupal/core-utility": "^8.1@dev"
   },
   "suggest": {
     "symfony/expression-language": "For using expressions in service container configuration"
diff --git a/core/lib/Drupal/Component/Discovery/composer.json b/core/lib/Drupal/Component/Discovery/composer.json
index 4de189402a..cb9b29b0df 100644
--- a/core/lib/Drupal/Component/Discovery/composer.json
+++ b/core/lib/Drupal/Component/Discovery/composer.json
@@ -7,7 +7,12 @@
   "require": {
     "php": ">=5.5.9",
     "drupal/core-file-cache": "^8.2",
-    "drupal/core-serialization": "^8.2"
+    "drupal/core-filesystem": "^8.2",
+    "drupal/core-serialization": "^8.5",
+    "symfony/yaml": ">=3.3 <4.0.0"
+  },
+  "require-dev": {
+    "mikey179/vfsStream": "^1.2"
   },
   "autoload": {
     "psr-4": {
diff --git a/core/lib/Drupal/Component/EventDispatcher/composer.json b/core/lib/Drupal/Component/EventDispatcher/composer.json
index cfbcc72e3f..f10d4f422c 100644
--- a/core/lib/Drupal/Component/EventDispatcher/composer.json
+++ b/core/lib/Drupal/Component/EventDispatcher/composer.json
@@ -7,7 +7,7 @@
   "require": {
     "php": ">=5.5.9",
     "symfony/dependency-injection": ">=2.8 <4.0.0",
-    "symfony/event-dispatcher": ">=2.7 <4.0.0"
+    "symfony/event-dispatcher": ">=3.4 <4.0.0"
   },
   "autoload": {
     "psr-4": {
diff --git a/core/lib/Drupal/Component/FileCache/composer.json b/core/lib/Drupal/Component/FileCache/composer.json
index 86e33a5f91..ac4f387c56 100644
--- a/core/lib/Drupal/Component/FileCache/composer.json
+++ b/core/lib/Drupal/Component/FileCache/composer.json
@@ -7,6 +7,9 @@
   "require": {
     "php": ">=5.5.9"
   },
+  "require-dev": {
+    "drupal/core-utility": "^8.1@dev"
+  },
   "autoload": {
     "psr-4": {
       "Drupal\\Component\\FileCache\\": ""
diff --git a/core/lib/Drupal/Component/FileSystem/composer.json b/core/lib/Drupal/Component/FileSystem/composer.json
index 528bb0744a..084e991766 100644
--- a/core/lib/Drupal/Component/FileSystem/composer.json
+++ b/core/lib/Drupal/Component/FileSystem/composer.json
@@ -7,6 +7,9 @@
   "require": {
     "php": ">=5.5.9"
   },
+  "require-dev": {
+    "mikey179/vfsStream": "^1.2"
+  },
   "autoload": {
     "psr-4": {
       "Drupal\\Component\\FileSystem\\": ""
diff --git a/core/lib/Drupal/Component/Gettext/composer.json b/core/lib/Drupal/Component/Gettext/composer.json
index 87f500a108..a3744575a5 100644
--- a/core/lib/Drupal/Component/Gettext/composer.json
+++ b/core/lib/Drupal/Component/Gettext/composer.json
@@ -12,6 +12,9 @@
     "php": ">=5.5.9",
     "drupal/core-utility": "^8.2"
   },
+  "require-dev": {
+    "mikey179/vfsStream": "^1.2"
+  },
   "autoload": {
     "psr-4": {
       "Drupal\\Component\\Gettext\\": ""
diff --git a/core/lib/Drupal/Component/PhpStorage/composer.json b/core/lib/Drupal/Component/PhpStorage/composer.json
index 614652a95c..af7f1353c3 100644
--- a/core/lib/Drupal/Component/PhpStorage/composer.json
+++ b/core/lib/Drupal/Component/PhpStorage/composer.json
@@ -7,6 +7,10 @@
   "require": {
     "php": ">=5.5.9"
   },
+  "require-dev": {
+    "drupal/core-utility": "^8.1@dev",
+    "mikey179/vfsStream": "^1.2"
+  },
   "autoload": {
     "psr-4": {
       "Drupal\\Component\\PhpStorage\\": ""
diff --git a/core/lib/Drupal/Component/Serialization/composer.json b/core/lib/Drupal/Component/Serialization/composer.json
index 3439f58639..eee28ec3e6 100644
--- a/core/lib/Drupal/Component/Serialization/composer.json
+++ b/core/lib/Drupal/Component/Serialization/composer.json
@@ -6,7 +6,7 @@
   "license": "GPL-2.0-or-later",
   "require": {
     "php": ">=5.5.9",
-    "symfony/yaml": ">=2.7 <4.0.0"
+    "symfony/yaml": ">=3.3 <4.0.0"
   },
   "autoload": {
     "psr-4": {
diff --git a/core/lib/Drupal/Component/Transliteration/composer.json b/core/lib/Drupal/Component/Transliteration/composer.json
index abdce4fc81..fd900e54db 100644
--- a/core/lib/Drupal/Component/Transliteration/composer.json
+++ b/core/lib/Drupal/Component/Transliteration/composer.json
@@ -8,6 +8,10 @@
     "irc": "irc://irc.freenode.net/drupal-contribute",
     "source": "https://www.drupal.org/project/drupal/git-instructions"
   },
+  "require-dev": {
+    "drupal/core-utility": "^8.1@dev",
+    "mikey179/vfsStream": "^1.2"
+  },
   "autoload": {
     "psr-4": {
       "Drupal\\Component\\Transliteration\\": ""
diff --git a/core/lib/Drupal/Component/Utility/composer.json b/core/lib/Drupal/Component/Utility/composer.json
index 3b8b5de5b8..bfa1d9006f 100644
--- a/core/lib/Drupal/Component/Utility/composer.json
+++ b/core/lib/Drupal/Component/Utility/composer.json
@@ -9,6 +9,9 @@
     "paragonie/random_compat": "^1.0|^2.0",
     "drupal/core-render": "^8.2"
   },
+  "require-dev": {
+    "drupal/core-assertion": "^8.2"
+  },
   "autoload": {
     "psr-4": {
       "Drupal\\Component\\Utility\\": ""
